(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{2610:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>i});var r=o(5155);o(2115);var a=o(7533),s=o(9869),l=o(4386);let n=(0,o(2691).A)({palette:{mode:"dark",primary:{main:"#6D5CFF",contrastText:"#F2ECF8"},secondary:{main:"#B44BFF"},background:{default:"#12081F",paper:"#1E0C34"},text:{primary:"#F2ECF8",secondary:"#A090B0"},divider:"#2B1348"},typography:{fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',body1:{lineHeight:1.7,fontSize:"1rem",color:"#F2ECF8"},h4:{color:"#F2ECF8"},h6:{color:"#F2ECF8"}},components:{MuiCssBaseline:{styleOverrides:{body:{backgroundColor:"#12081F",color:"#F2ECF8",scrollbarWidth:"thin",scrollbarColor:"#2B1348 #12081F","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{backgroundColor:"#12081F"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#2B1348",borderRadius:"4px","&:hover":{backgroundColor:"#6D5CFF"}}}}}},breakpoints:{values:{xs:0,sm:640,md:768,lg:1024,xl:1280}}});function i(e){let{children:t}=e;return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{children:(0,r.jsxs)(a.A,{theme:n,children:[(0,r.jsx)(s.Ay,{}),(0,r.jsx)(l.k,{children:t})]})})})}},3562:(e,t,o)=>{Promise.resolve().then(o.bind(o,2610))},4386:(e,t,o)=>{"use strict";o.d(t,{U:()=>i,k:()=>d});var r=o(5155),a=o(2115),s=o(9675);let l="/api",n=async e=>{try{console.log("Sending request to API:",{query:e});let t={query:e},o=JSON.stringify(t);console.log("Payload object:",t),console.log("Payload stringified:",o),console.log("Request URL:","".concat(l,"/ai-assistant"));let r=await fetch("".concat(l,"/ai-assistant"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:o});if(console.log("Response status:",r.status),!r.ok){let e=await r.text();throw console.error("API error response:",e),Error("API call failed with status: ".concat(r.status," - ").concat(e))}let a=await r.json();return console.log("API response data:",a),a}catch(e){throw console.error("Error sending message to AI:",e),e}},i=(0,a.createContext)(void 0),c="quantara_chat_history",d=e=>{let{children:t}=e,[o,l]=(0,a.useState)(()=>{let e=localStorage.getItem(c);return e?JSON.parse(e):[]}),[d,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{localStorage.setItem(c,JSON.stringify(o))},[o]);let g=async e=>{u(!0),h(null);let t={id:(0,s.A)(),role:"user",content:e,timestamp:Date.now()};l(e=>[...e,t]);try{let t=await n(e);console.log("API Response received:",t);let o={id:(0,s.A)(),role:"ai",content:t.answer||"Received response but 'answer' field was empty. Click for details.",timestamp:Date.now(),apiResponse:t};l(e=>[...e,o])}catch(e){h(e instanceof Error?e.message:"An unknown error occurred")}finally{u(!1)}};return(0,r.jsx)(i.Provider,{value:{messages:o,isLoading:d,error:p,sendMessage:g,clearHistory:()=>{l([]),localStorage.removeItem(c)}},children:t})}}},e=>{e.O(0,[263,331,441,255,358],()=>e(e.s=3562)),_N_E=e.O()}]);